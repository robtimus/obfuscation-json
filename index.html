<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src\site\markdown/index.md at 2021-08-21
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20210821" />
    <meta http-equiv="Content-Language" content="en" />
    <title>obfuscation-json &#x2013; Overview</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
<script type="text/javascript">
  $(document).ready(function () {
    $(".source").addClass("prettyprint");
    prettyPrint();
  });
</script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>obfuscation-json</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2021-08-21<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.1</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">obfuscation-json</li>
    <li class="active"><a href="#"><span class="none"></span>Overview</a></li>
    <li><a href="download.html" title="Download"><span class="none"></span>Download</a></li>
    <li><a href="https://github.com/robtimus/obfuscation-json/releases" class="externalLink" title="Releases"><span class="none"></span>Releases</a></li>
    <li><a href="apidocs/index.html" title="JavaDocs"><span class="none"></span>JavaDocs</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
</ul>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >

<h1>obfuscation-json</h1>
<p>Provides functionality for obfuscating JSON documents. This can be useful for logging such documents, e.g. as part of request/response logging, where sensitive properties like passwords should not be logged as-is.</p>
<p>To create a JSON obfuscator, simply create a builder, add properties to it, and let it build the final obfuscator:</p>

<div>
<div>
<pre class="source">Obfuscator obfuscator = JSONObfuscator.builder()
        .withProperty(&quot;password&quot;, Obfuscator.fixedLength(3))
        .build();
</pre></div></div>

<div class="section">
<h2><a name="Disabling_obfuscation_for_objects_and.2For_arrays"></a>Disabling obfuscation for objects and/or arrays</h2>
<p>By default, a JSON obfuscator will obfuscate all properties; for object and array properties, their contents in the document including opening and closing characters will be obfuscated. This can be turned on or off for all properties, or per property. For example:</p>

<div>
<div>
<pre class="source">Obfuscator obfuscator = JSONObfuscator.builder()
        .scalarsOnlyByDefault()
        .withProperty(&quot;password&quot;, Obfuscator.fixedLength(3))
        .withProperty(&quot;complex&quot;, Obfuscator.fixedLength(3))
                .includeObjects() // override the default setting
        .build();
</pre></div></div>
</div>
<div class="section">
<h2><a name="Pretty-printing"></a>Pretty-printing</h2>
<p>JSON obfuscators perform obfuscating by generating new, obfuscated JSON documents. By default this will use pretty-printing. This can be turned off when creating JSON obfuscators:</p>

<div>
<div>
<pre class="source">Obfuscator obfuscator = JSONObfuscator.builder()
        .withProperty(&quot;password&quot;, Obfuscator.fixedLength(3))
        .withPrettyPrinting(false)
        .build();
</pre></div></div>

<p>If the structure of the original JSON document needs to be kept intact, you should use <a class="externalLink" href="https://robtimus.github.io/obfuscation-jackson/">obfuscation-jackson</a> instead.</p></div>
<div class="section">
<h2><a name="Producing_valid_JSON"></a>Producing valid JSON</h2>
<p>If string values are obfuscated, the obfuscated value remains quoted. For other values, the obfuscated values are not quoted. This could lead to invalid JSON. For instance:</p>

<div>
<div>
<pre class="source">{
  &quot;boolean&quot;: ***
}
</pre></div></div>

<p>For most use cases this is not an issue. If the obfuscated JSON needs to be valid, this can be achieved by converting obfuscated values to strings:</p>

<div>
<div>
<pre class="source">Obfuscator obfuscator = JSONObfuscator.builder()
        .withProperty(&quot;boolean&quot;, Obfuscator.fixedLength(3))
        .produceValidJSON()
        .build();
</pre></div></div>

<p>This will turn the above result into this:</p>

<div>
<div>
<pre class="source">{
    &quot;boolean&quot;: &quot;***&quot;
}
</pre></div></div>

<p>An exception is made for <a class="externalLink" href="https://robtimus.github.io/obfuscation-core/apidocs/com/github/robtimus/obfuscation/Obfuscator.html#none--">Obfuscator.none()</a>. Since this obfuscator does not actually obfuscate anything, any property that is configured to use it will be added as-is. This still allows skipping obfuscating values inside certain properties:</p>

<div>
<div>
<pre class="source">Obfuscator obfuscator = JSONObfuscator.builder()
        .withProperty(&quot;object&quot;, Obfuscator.none())
        .withProperty(&quot;boolean&quot;, Obfuscator.fixedLength(3))
        .produceValidJSON()
        .build();
</pre></div></div>

<p>Possible output:</p>

<div>
<div>
<pre class="source">{
    &quot;boolean&quot;: &quot;***&quot;,
    &quot;object&quot;: {
        &quot;boolean&quot;: true
    }
}
</pre></div></div>
</div>
<div class="section">
<h2><a name="Handling_malformed_JSON"></a>Handling malformed JSON</h2>
<p>If malformed JSON is encountered, obfuscation aborts. It will add a message to the result indicating that obfuscation was aborted. This message can be changed or turned off when creating JSON obfuscators:</p>

<div>
<div>
<pre class="source">Obfuscator obfuscator = JSONObfuscator.builder()
        .withProperty(&quot;password&quot;, Obfuscator.fixedLength(3))
        // use null to turn it off
        .withMalformedJSONWarning(&quot;&lt;invalid JSON&gt;&quot;)
        .build();
</pre></div></div>
</div>
<div class="section">
<h2><a name="Changing_JSON_implementation"></a>Changing JSON implementation</h2>
<p>This library uses the Java API for Processing JSON (<a class="externalLink" href="https://www.jcp.org/en/jsr/detail?id=374">JSR 374</a>) for parsing and generating JSON. By default it uses the Glassfish reference implementation. If you want to use a different implementation instead, you should exclude the Glassfish dependency, and add a dependency for that different implementation. In your POM:</p>

<div>
<div>
<pre class="source">&lt;dependency&gt;
  &lt;groupId&gt;com.github.robtimus&lt;/groupId&gt;
  &lt;artifactId&gt;obfuscation-json&lt;/artifactId&gt;
  &lt;version&gt;...&lt;/version&gt;
  &lt;exclusions&gt;
    &lt;exclusion&gt;
      &lt;groupId&gt;org.glassfish&lt;/groupId&gt;
      &lt;artifactId&gt;javax.json&lt;/artifactId&gt;
    &lt;/exclusion&gt;
  &lt;/exclusions&gt;
 &lt;/dependency&gt;

&lt;dependency&gt;
    ...
&lt;/dependency&gt;
</pre></div></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2020&#x2013;2021.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
